name: Check Dead Links

on:
  workflow_dispatch:
  schedule:
    # Run on the 1st and 15th of each month @ 00:00AM UTC-3
    - cron: '0 3 1,15 * *'

permissions:
  contents: read

jobs:
  dead_links:
    name: Check broken links
    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v5

      - uses: ruby/setup-ruby@d5126b9b3579e429dd52e51e68624dda2e05be25
        with:
          ruby-version: '3.3'

      - name: Install awesome_bot
        run: gem install awesome_bot

      - name: Check URLs
        run: awesome_bot logos/**/*.json --allow-dupe --allow-redirect
